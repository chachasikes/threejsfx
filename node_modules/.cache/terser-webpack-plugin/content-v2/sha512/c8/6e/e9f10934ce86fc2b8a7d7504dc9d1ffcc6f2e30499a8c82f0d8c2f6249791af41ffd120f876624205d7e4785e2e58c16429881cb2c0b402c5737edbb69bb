{"code":"!function(e){var t={};function i(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=2)}([function(e,t,i){\"use strict\";i.d(t,\"a\",function(){return r});class r extends THREE.Mesh{constructor(e={},t=0){super(),this.physicsReset(),t&&t._speak({name:\"behavior_initialization\",behavior:this,parent:t,props:e}),this.reset(e),t&&t._listen(\"child_added\",this.on_child_added.bind(this))}on_child_added(e){if(\"child_added\"!=e.name)return;let t=this;Object.entries(e.child).forEach(([e,i])=>{i instanceof THREE.Object3D&&t.add(i)})}reset(e){if(!e)return;{let t=e.color||16711935,i=e.doublesided?THREE.DoubleSide:0,r=(e.transparent,0),n=new THREE.MeshPhongMaterial({color:t,transparent:r,side:i});this.material&&this.material.dispose(),this.material=n}this.props&&this.props.art==e.art||this.setGeometryFromString(e.art);let t=this;e.scale&&t.scale.set(e.scale.x,e.scale.y,e.scale.z),e.position&&t.position.set(e.position.x,e.position.y,e.position.z),e.orientation&&(t.rotation.x=e.orientation.x*Math.PI/180,t.rotation.y=e.orientation.y*Math.PI/180,t.rotation.z=e.orientation.z*Math.PI/180),void 0!==e.visible&&(t.visible=!!e.visible),this.props=e}setGeometryFromString(e){let t=0,i=0;switch(e){case void 0:case 0:case null:i=this.setCustomGeometry();break;case\"group\":i=null;break;case\"box\":i=new THREE.BoxBufferGeometry(1,1,1,16,16,16);break;case\"sphere\":i=new THREE.SphereGeometry(1,16,16);break;default:t=1,i=new THREE.SphereGeometry(1,16,16)}if(this.geometry&&this.geometry.dispose(),this.geometry=i,!t)return;this.material&&(this.material.visible=!1);let r=e+\"/scene.gltf\",n=new THREE.GLTFLoader,s=this;n.load(r,e=>{if(!e||!e.scene)return;if(e.animations&&e.animations.length){let t=new THREE.AnimationMixer(e.scene);for(let i of e.animations)t.clipAction(i).play()}let t=(new THREE.Box3).setFromObject(e.scene),i=s.scale.length()/t.getSize(new THREE.Vector3).length()*2,r=t.getCenter(new THREE.Vector3).multiplyScalar(i);e.scene.scale.set(i,i,i),e.scene.position.sub(r),s.add(e.scene),this.material&&(this.material.visible=!1)})}setCustomGeometry(){throw console.error(this),new Error(\"You have to implement the method setCustomGeometry!\")}tick(e,t){this.physical&&(this.linear.x=this.linear.x*this.friction,this.linear.y=this.linear.y*this.friction,this.linear.z=this.linear.z*this.friction,this.position.add(this.linear))}physicsReset(){this.physical=0,this.friction=.9,this.linear=new THREE.Vector3}physicsForce(e=0,t=0){if(this.physical=1,e){let t=new THREE.Vector3(e.x,e.y,e.z);t.applyQuaternion(this.quaternion),this.linear.add(t)}if(t){let e=new THREE.Quaternion;e.setFromEuler(t),this.quaternion.multiply(e);let i=new THREE.Euler;i.setFromQuaternion(this.quaternion);i.x,Math.PI,i.y,Math.PI,i.z,Math.PI}}}},function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",function(){return Blob});var _BehaviorRenderer_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3),_BehaviorLight_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_BehaviorMesh_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),_BehaviorSky_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5),_BehaviorHeart_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6),_BehaviorText_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_BehaviorTextPanel_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),_BehaviorOrbit_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9),_BehaviorWalk_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(10),_BehaviorBounce_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(11),_BehaviorParticles_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(12),_BehaviorProton_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(13),_BehaviorEmitter_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(14),_BehaviorPhysics_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(15),_BehaviorEvent_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(16),_BehaviorTick_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(17),_BehaviorCollide_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(18);let UUID=0;class BehaviorChildren{constructor(e=0,t=0){this._load_children(e,t)}_load_children(e,t){if(e&&t){t.children=this,this.children=[];for(let i=0;i<e.length;i++)this._load_child(e[i],t)}else console.error(\"Children must be attached to a parent\")}_load_child(e,t){let i=e.name||++UUID,r=new Blob(e,t);r.name=i,console.log(\"BlobChildren: adding child named \"+i),this.children.push(r),t._speak({name:\"child_added\",child:r,parent:t})}find(e){for(let t=0;t<this.children.length;t++)if(this.children[t].name==e)return this.children[t];return 0}tick(e=.01){for(let t=0;t<this.children.length;t++){this.children[t]._tick(e)}}}class Blob{constructor(e=0,t=0){this._details=e,this.parent=t;try{e||(e={}),\"string\"==typeof e?this._load_module(e):this._attach_behaviors(e)}catch(e){console.error(e)}}_attach_behaviors(e={}){Object.entries(e).forEach(([e,t])=>{console.log(e,t),this._attach_behavior(e,t)})}_attach_behavior(name,props){let blob=this;try{let behavior=null,savename=name;for(let e=0;savename=name+(e||\"\"),behavior=blob[savename],behavior;e++);{let className=\"Behavior\"+name.charAt(0).toUpperCase()+name.slice(1),classRef=eval(className);if(classRef){let e=new classRef(props,blob);void 0!==e&&(e.blob=blob,blob[savename]=e,console.log(\"Blob: added new instance of behavior \"+savename+\" \"+className),blob._speak({name:\"behavior_added\",behavior:e,parent:blob}))}}}catch(e){\"name\"==name||\"parent\"==name||(console.error(e),blob[name]=props)}}_listen(e,t){this._listeners||(this._listeners=[]),this._listeners.push(t)}_speak(e){for(let t=0;this._listeners&&t<this._listeners.length;t++){(0,this._listeners[t])(e)}}_tick(e){try{Object.entries(this).forEach(([t,i])=>{i.tick&&i.tick(e,this)})}catch(e){console.error(e)}}_load_module(e){let t=this;__webpack_require__(19)(e).then(e=>{let i=e[Object.keys(e)[0]];t._attach_behaviors(i)})}_findChildByName(e){return this.parent&&this.parent.children?this.parent.children.find(e):0}_findByProperty(e){let t=Object.keys(this);for(let i=0;i<t.length;i++){let r=this[t[i]];if(\"object\"==typeof r&&r[e])return r}return 0}_copy(){if(!this.parent.children){return console.error(\"Warning: There's no children in this area to attach your new blob to\"),new Blob(this._details,this.parent)}this.parent.children._load_child(this._details,this.parent)}}},function(e,t,i){\"use strict\";i.r(t);var r=i(1);window.onload=(e=>{let t=0;function i(){t&&document.body.removeChild(t.renderer.domElement);let e=window.location.hash.substr(1).replace(\".js\",\"\");e&&e.length&&(console.log(e,examples),void 0!==examples[e]&&(t=new r.a(examples[e])))}window.addEventListener(\"hashchange\",i),i()})},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\";i(0)},function(e,t,i){\"use strict\";i(0)},function(e,t,i){\"use strict\";i(0)},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\"},function(e,t,i){\"use strict\"},function(e,t){function i(e){return Promise.resolve().then(function(){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t})}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id=19}]);","extractedComments":[]}